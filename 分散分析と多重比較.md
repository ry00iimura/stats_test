# 分散分析と多重比較
- 使いどころ：
　分散分析は3群以上の間に差があるかを検定する手法である(2群間ではt検定)。何らかの実験で効果があったのかどうかを知りたいときに使う。
- メリット：
　差を生んでいる要因が複数あった場合でも交互作用なのか主効果なのか判別できる。
- 課題：
　どの群に差があったのかまでは知ることができない。
- 代替手段：
　どの群に差があったかを知りたいときは多重比較（Posthoc test）の手法を用いる必要がある。手法は全部で20種類ぐらいあるが、大きく分けると、有意水準の数値を調整する有意水準補正型（ボンフェローニ補正）、統計検定料を補正する検定統計量補正型（Scheffe法）、分布の形を補正する分布補正型（Tukey法など）の３つに大別される。
- たぶんベストプラクティス
　もし比較したい群数が5群いかならBonferroni法が最も手軽でよい。5群を超える場合は、Tukey-Kramer法がよい。
- Bonferroni法
　- 3群以上の各郡の差を知りたいときに、例えば、AとB、BとC、AとCの組み合わせで3回ｔ検定を行ってはいけません。それは、通常、ｔ検定などは、有意水準を設けて（５％とか）を用いています。つまり、差があると検定結果がでても、５％の確率で差がない場合があるのです。ｔ検定を3回実施した場合、その５％の確率が3回出てきてしまいます。つまり、3回すべてで有意差があるとした場合でも、それぞれに含まれる５％の誤りを含んでしまうので５＊５＊５で有意差は95％でやっているつもりでも、実際には14.3%の確率で誤りが出てきてしまうのです。
　- この場合、Bonferroni法を用いることは有効です。Bonferroni法とは５％の有意水準を検定するのではなく、あらかじめ５％÷３（検定を行う回数）で割って、それを検定することで、先ほどのような５％の累積を解消する手法です。
　- ただし、実際にはどれだけ群数があっても行っていいわけでもなく、最大でも5群だといわれています。（0.05/5 = 0.01)なので、９９％そうだ！みたいな確率はあまり現実的じゃない。

- Scheffe法
　－複数群をまとめて最終的に2つのグループで検定を行う方法。
  －有意差が出にくい。いい方法がほかにあるのであまり使われない。

# Bonferroni補正のサンプルコード
https://github.com/iimuragumi/hello-world/blob/master/posthoc_test.ipynb

# 【参考】多重比較法の危険性と実際
https://tjo.hatenablog.com/entry/2018/06/12/093633