# アソシエーション分析

## アソシエーションとは？
- 商品Aを買っているお客様の65％が商品Bも購入しているというような関連のこと。

## アルゴリズムは？
- アプリオリ・アルゴリズム

## アソシエーション・ルール
- Aという条件の時にBが起こる。その確率は・・・というルールのこと
- {A}→{B}と表記する
- 左辺：条件部(Left-hand-side LHS)
- 右辺：結論部(Right-hand-side RHS)
- Aという条件が必ずしも一商品とは限らない。コーヒーと牛乳を買われると、雑誌も変われるみたいなケースもある
- アソシエーションは相関とは違い方向性（→）がある。

## ルールを評価する3つの指標
### 支持度（Support)
- {A}→{B}が起こる割合
- 指標が大きい値である→この組み合わせの買われ方が多い。
- 指標が小さい値である→この組み合わせの買われ方が少ない。ビジネス的にはうまみがない。
- {A}→{B}の行数/全行数

### 確信度（または信頼度）(confidence)
- {A}→{X}のうち、{A}→{B}が出現する割合
- 指標の値が大きい→Aという商品を買った場合、Bという商品も買われやすい。
- 方向性のある相関係数のようなもの
- 仮に商品Bは購入履歴の割合の9割を占めている場合、確信度が高くてもAの販促を進めてもあまり意味がない。なぜなら、販促しなくてもBは買われるから
- 逆に商品Bは購入履歴の割合の2割にとどまっている場合、確信度は高くなくても、商品Aの販促に生かせる（意外な組み合わせ）
- {A}→{B}の行数/{A}→{X}の行数

### リフト値(Lift)
- {A}→{B}は({X})→{B}と比較したとき、何倍の確率で起きやすいか
- ({A}→{B}の行数/全行数)/({X}→{B}の行数/全行数)
- {A}→{B}のリフト値が低い場合→{A}→{B}という組み合わせが突出しているわけではなく、{B}が買われやすいだけということ
- 確信度が高い場合、Aを買われるとBも買われやすい。しかし同時にリフト値が低ければ、AじゃなくてもBは買われやすいという意味なので意味がない。
- リフト値は1を超えるかどうかで有効かどうかが判断される。

## 事例
- お客様の併売（ビールと紙おむつ）
- {営業のアクション/競合の値下げや天気などの外部要因}→{受注}から営業活動の効率化を狙う
- 協調フィルタリングの代用

